Jandent.js - 小説お作法まもるくん
=============================

jandent三号機を作成します。主に小説便利ツールを揃えるためと、サーバー負荷を下げるため。

このレポジトリはサイト部分じゃなくて処理部分を担当します。

* 処理機構
* サイト機構
* analytics機構

処理機構必要要件
* 現行サイトの変換メソッド
* 設定タブでの各種変換メソッドオンオフ
* アラビア数字を漢数字にするオプション追加
* 十万文字近い量でもスムーズに処理できるようにasync処理
* 修正箇所ハイライト表示用のデータを返す
* npmモジュールとして動かせるようにして、オフラインでも使えるようにしておきたい（主に自分用）
* アラビア数字変換はかなりややこしそうな変換になるので、別ライブラリをつくって分けたほうが良さそう。
* ie非対応として、for ofループとかを堂々と使う

サイト機構必要要件
* AddtoAnyを除去して自前シェアボタン
* タブで「入力」「出力」「設定」欄を切り替えられる
* 今風サイトの作り方の練習も兼ねて[Moon.js](https://github.com/kbrsh/moon)を用いる
* IE完全非対応
* 設定値はlocalStorageに保存


使用ライブラリ
* [Moon.js](https://github.com/kbrsh/moon)

------------------------------

参考用引用

> きのと on Twitter: "・Jandent.php - 小説お作法まもるくん https://t.co/CSy1ZNp8Ye　 字下げや感嘆符の後の全角スペース三転リーダやダッシュを２つ重ねるとか自動で変換してくれるのでめちゃめちゃ便利。アラビア数字を漢数字にはしてくれないのだけ注意。"
> https://twitter.com/k_north02/status/1135786851023769606

> にぎ on Twitter: "小説お作法まもるくん。試しに文を貼ってみたんだけど、ここ変換しといたよ！ってのがわからないんだね😓教えてくれると次回から気を付けよってなるのにな～"
> https://twitter.com/nigi_pon0728/status/1109254009603289088

------------------------------

アラビア数字変換メソッド
* verbose: 一番冗長ながらしっかりとした変換。十の位まできっちり単位を付ける。
* simple: 一番簡易的な変換。単位を一切付けず、数値が`0`である場合を除いて零という漢字は使わない。
* moderate: ほどほどに単位を付ける。具体的には十、百、千においては単位を省略する。
* dictate: 口述しやすい形に変換する。基本はverboseと同じだが「十万とんで三十五」といったように、0がある部分は「とんで」と表記する。

アラビア数字変換処理例

* verbose: 12340 -> 一万二千三百四十
* simple: 12340 -> 一二三四〇
* moderate: 12340 -> 一万二三四〇
* dictate: verboseと同じ

* verbose: 10000 -> 一万
* simple: 10000 -> 一〇〇〇〇
* moderate: 10000 -> 一万
* dictate: verboseと同じ

* verbose: 2034 -> 二千三十四
* simple: 2034 -> 二〇三四
* moderate: 2034 -> 二〇三四
* dictate: 2034 -> 二千とんで三十四

* verbose: 120000000 -> 一億二千万
* simple: 120000000 -> 一二〇〇〇〇〇〇〇
* moderate: 120000000 -> 一億二千万
* dictate: verboseと同じ

* verbose: 120000320 -> 一億二千万三百二十
* simple: 120000320 -> 一二〇〇〇〇三二〇
* moderate: 120000320 -> 一億二〇〇〇万三二〇
* dictate: 120000320 -> 一億二千万とんで三百二十

------------------------------

lintメソッド

* 基本的には「間違いのある文法や、修正すべき点」を発見する。
* columnBeginは「発見された箇所の初めになるindex」で、columnEndは「発見された箇所の終わりになるindex」。
* detectedは「発見された箇所の部分文字列」を入れる。

例: 行頭字下げが無かった場合で、行頭文字が「あ」の場合
* columnBegin: 0
* columnEnd: 1
* detected: "あ"
